# Copyright 2022 NXP
# SPDX-License-Identifier: Apache-2.0

description: |
  NXP GAU GPADC.

compatible: "nxp,gau-adc"

include:
  - name: base.yaml
  - name: adc-controller.yaml

properties:
  reg:
    required: true

  interrupts:
    required: true

  resolution:
    type: int
    required: true
    description: |
      Resolution of ADC in bits, this is global to every channel.
      Note that the Zephyr API will allow changing resolution
      at channel_setup call, but this ADC cannot have different
      resolutions for each channel.
    enum:
      - 11
      - 13
      - 15

  oversampling:
    type: int
    required: false
    description: |
      Number of raw samples to average for result sample.
      Note that the Zephyr API will allow changing oversample amount
      at channel_setup call, but this ADC cannot have different
      averaging configurations for each channel.
      The default is no oversampling, which is the reset value.
    enum:
      - 0
      - 2
      - 4
      - 8
      - 16
    default: 0

  clock-divider:
    type: int
    required: false
    description: Clock divider from 1 to 32.
    default: 1

  power-mode:
    type: string
    required: false
    description: Current bias. Full bias is the default reset value.
    enum:
      - "full-bias"
      - "half-bias"
    default: "full-bias"

  warmup-time:
    type: int
    required: false
    description: |
      Warm up time in microseconds (1 to 32 us). The default 33 is a value
      that would disable warmup time if not otherwise set.
    default: 33

  trigger-source:
    type: string
    required: false
    description: Conversion trigger source
    enum:
      - "gpt"
      - "acomp"
      - "gpio40"
      - "gpio41"
      - "software"
    default: "software"

  result-width:
    type: int
    required: false
    description: Result width in bits for each channel sample.
    enum:
      - 16
      - 32
    default: 16

  fifo-threshold:
    type: int
    required: false
    description: FIFO threshold
    enum:
      - 1
      - 4
      - 8
      - 16
    default: 1

  enable-dma:
    type: boolean
    required: false
    description: DMA enable

  input-buffer:
    type: boolean
    required: false
    description: Enable use of the input buffer

  ext-cal-volt:
    type: boolean
    required: false
    description: |
      Use external calibration voltage.
      By default, ADC uses an internal calibration voltage.

  "#io-channel-cells":
    const: 1

io-channel-cells:
  - input
